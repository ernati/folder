AS는 통합 라우팅 정책이 있는 대규모 네트워크 또는 네트워크 그룹입니다. 인터넷에 연결된 모든 컴퓨터나 장치는 AS에 연결됩니다.
데이터 패킷은 대상 IP 주소가 포함된 AS에 도달할 때까지 AS에서 AS로 호핑하여 인터넷을 통과합니다.해당 AS 내의 라우터는 패킷을 IP 주소로 전송합니다.
모든 AS는 특정 IP 주소 집합을 제어합니다. 지정된 AS에서 제어하는 IP 주소의 범위를 "IP 주소 공간"이라고 합니다.
대부분의 AS는 다른 여러 AS에 연결됩니다. AS가 하나의 다른 AS에만 연결되고 동일한 라우팅 정책을 공유하는 경우, 대신 첫 번째 AS의 하위 네트워크로 간주될 수 있습니다.
일반적으로 각 AS는 ISP, 대기업 기술 회사, 대학, 정부 기관 등 단일 대규모 조직에서 운영됩니다.
AS 라우팅 정책은 AS에서 제어하는 IP 주소 공간의 목록과 AS가 연결하는 다른 AS의 목록입니다. 이 정보는 패킷을 올바른 네트워크로 라우팅하는 데 필요합니다. AS는 BGP를 사용하여 이 정보를 인터넷에 알립니다.
네트워킹 엔지니어는 어떤 IP 주소가 어떤 AS에 의해 제어되는지 의사소통할 때 각 AS가 소유한 IP 주소 "접두사"에 대해 이야기하여 의사소통합니다. IP 주소 접두사는 IP 주소의 범위입니다. IP 주소가 기록되는 방식 때문에 IP 주소 접두사는 192.0.2.0/24 방식으로 표현됩니다. 이는 192.0.2.0에서 192.0.2.24가 아닌 192.0.2.0에서 192.0.2.255까지의 IP 주소를 나타냅니다.
각 AS에는 공식 번호 또는 ASN이 할당됩니다. 그러나 기업과 달리 외부 당사자는 종종 번호만으로 AS를 지칭합니다.
AS 번호, 즉 ASN은 1에서 65534 사이의 고유한 16비트 숫자 또는 131072와 4294967294 사이의 32비트 숫자입니다. ASN은 AS(번호) 형식으로 표시됩니다. 예를 들어 Cloudflare의 ASN은 AS13335입니다. 일부 추정에 따르면 전 세계에 걸쳐 90,000개 이상의 ASN이 사용되고 있습니다.
ASN은 네트워크 간 라우터와의 외부 통신에만 필요합니다. AS 내의 내부 라우터 및 컴퓨터는 해당 AS 내의 장치와만 통신하므로 해당 AS의 번호를 알 필요가 없습니다.
AS는 ASN을 할당하는 관리 기관에서 번호를 부여하기 전에 특정 자격을 충족해야 합니다. AS에는 고유한 라우팅 정책이 있어야 하고, 특정 크기여야 하며, 다른 AS에 대한 연결이 두 개 이상 있어야 합니다. 사용 가능한 ASN의 양은 제한되어 있으며, 너무 자유롭게 제공되면 공급이 고갈되고 라우팅이 훨씬 더 복잡해집니다.
AS는 BGP를 통해 다른 AS 및 라우터에 라우팅 정책을 알립니다. BGP는 AS 간에 데이터 패킷을 라우팅하기 위한 프로토콜입니다. 이 라우팅 정보가 없으면 인터넷을 대규모로 운영하는 것이 비실용적이 되어 데이터 패킷이 손실되거나 목적지에 도달하는 데 너무 오래 걸리게 됩니다.
각 AS에서는 BGP를 사용하여 자체에서 담당하는 IP 주소와 연결하는 다른 AS를 알립니다. BGP 라우터는 전 세계 AS에서 이 모든 정보를 가져와 라우팅 테이블이라는 데이터베이스에 저장하여 AS에서 AS로의 가장 빠른 경로를 결정합니다. 패킷이 도착하면 BGP 라우터에서는 라우팅 테이블을 참조하여 패킷이 다음으로 이동할 AS가 결정됩니다.
전 세계에 AS가 너무 많으므로 BGP 라우터에서는 라우팅 테이블을 지속해서 업데이트하고 있습니다. 네트워크들이 오프라인 상태가 되고, 새 네트워크들이 온라인 상태가 되며, AS에서 IP 주소 공간을 확장하거나 축소하면 BGP 라우터가 라우팅 테이블을 조정할 수 있도록 BGP를 통해 이 모든 정보를 알려야 합니다.
IP, 즉 인터넷 프로토콜은 각 패킷이 갈 대상을 지정한다는 점에서 실제로 라우팅에 사용됩니다. BGP는 목적지까지 가장 빠른 경로로 패킷을 전달하는 역할을 합니다. BGP가 없을 경우, IP 패킷은 AS에서 AS로 무작위로 인터넷을 돌아다닙니다.
AS는 서로 연결되고 피어링이라는 프로세스를 통해 네트워크 트래픽을 교환합니다. AS가 서로 피어링하는 한 가지 방법은 IXP라는 물리적 위치에서 연결하는 것입니다. IXP는 라우터, 스위치, 케이블 연결이 많은 대규모 LAN입니다.