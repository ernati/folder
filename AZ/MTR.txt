traceroute는 네트워크 경로의 문제를 진단하는 데 사용되는 도구입니다. traceroute는 IP 패킷이 한 컴퓨터에서 다른 컴퓨터로 이동하는 경로를 이해하는 데 사용됩니다. traceroute 또는 tracert 명령을 사용하면 다음을 이해할 수 있습니다.
- 각 라우터의 IP 주소 포함한 패킷이 사용하는 경로
- 네트워크 경로에서 소스와 각 홉 또는 패킷이 통과하는 라우터 간의 RTT
네트워크 경로는 패킷이 대상에 도달하기 위해 통과하는 네트워크 시퀀스를 나타냅니다.
인터넷은 라우팅을 통해 서로 연결되는 방대한 네트워크의 모음입니다. 대부분의 인터넷 엔드포인트는 동일한 네트워크의 일부가 아닙니다. 즉, 해당 웹 브라우저가 웹 사이트의 서버에 요청을 보내는 경우 요청은 도중에 여러 중개 네트워크 사이를 이동해야 합니다.
traceroute 도구는 TTL을 1로 설정하여 패킷을 대상 IP로 전송하므로 패킷이 도달하는 첫 번째 라우터가 오류를 다시 보냅니다. 오류가 반환되면 traceroute 도구는 첫 번째 라우터의 ID 및 왕복 시간을 기록하고, TTL을 증가시키며, 새 패킷을 전송하여 마지막 패킷이 대상 IP에 도달하거나 두 세트의 패킷이 삭제될 때까지 이 프로세스를 반복합니다.
이렇게 하면 패킷이 사용하는 경로와 각 홉까지의 왕복 시간을 이해할 수 있으므로 패킷 손실 및 대기 시간 문제를 해결할 수 있습니다.
traceroute는 ICMP 프로토콜을 사용합니다. ICMP는 오류 테스트에 사용되는 네트워크 계층 프로토콜입니다. ICMP에는 IP에서 직접 실행되는 연결된 전송 프로토콜이 없습니다. traceroute 도구에서 보낸 패킷의 TTL이 초과되면 라우터는 ICMP 유형 11 패킷을 다시 전송합니다.
발신 패킷은 ICMP 또는 UDP를 사용할 수 있습니다. 발신 traceroute 패킷에 대해 다른 프로토콜을 선택하는 것은 네트워크 경로를 따라 라우터가 특정 프로토콜의 패킷을 필터링하도록 구성된 경우 보다 완전한 결과를 얻는 한 가지 방법입니다.
MTR는 네트워크 연결 및 속도를 테스트하는 또 다른 일반적인 방법인 경로 추적과 핑을 결합한 도구입니다. 네트워크 경로의 홉 외에도 MTR은 목적지까지의 경로를 따라 대기 시간 및 패킷 손실에 대한 정보를 지속해서 업데이트합니다. 이렇게 하면 경로를 따라 발생하는 상황을 실시간으로 볼 수 있으므로 네트워크 문제를 해결하는 데 도움이 됩니다.
MTR은 traceroute과 유사한 방식으로 네트워크 경로를 검색한 다음 정기적으로 패킷을 전송하여 정보를 계속 수집하여 네트워크 상태 및 속도에 대한 업데이트된 보기를 제공하는 방식으로 작동합니다.
traceroute과 마찬가지로 MTR은 발신 패킷에 ICMP 또는 UDP를 사용할 수 있지만, 반환 패킷에는 ICMP를 사용합니다.
MTR에는 많은 옵션이 있습니다. MTR 도움말 페이지를 통해 자세한 내용을 확인할 수 있습니다. mtr --help
자주 사용되는 옵션은 다음과 같습니다.
- TCP MTR: ICMP 패킷을 사용하는 대신 TCP를 사용합니다. 선택적으로 대상 포트도 선택할 수 있습니다.
- UDP MTR: ICMP 대신 UDP를 사용합니다. 이는 ICMP 패킷을 차단하는 라우터를 우회하거나 특정 포트를 테스트하는 데 사용할 수 있습니다.
- IP 표시: 각 홉의 레코드 옆에 IP 주소를 표시합니다. 이렇게 하면 업스트림의 문제를 더 쉽게 보고할 수 있습니다.
- AS 조회: MTR에 AS 번호를 표시합니다.